# Application
NODE_ENV=development
PORT=3001

# Database
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=devos
DATABASE_PASSWORD=devos_password
DATABASE_NAME=devos_db

# JWT Authentication
JWT_SECRET=your-secret-key-change-in-production
JWT_EXPIRES_IN=24h
REFRESH_TOKEN_EXPIRES_IN=30d

# Bcrypt
BCRYPT_ROUNDS=12

# CORS
CORS_ORIGIN=http://localhost:3000

# Redis Configuration (for token blacklist)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=          # Optional, leave empty for local development

# Encryption (for 2FA secrets and BYOK key storage)
# CRITICAL: Generate secure keys with this command:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Example: d66e86e1e4c22e049b49bfab73b272644df7500b55a3bda7730a732b2967c658

# Master encryption key (32 bytes = 64 hex characters)
ENCRYPTION_KEY=your-64-character-hex-key-here

# HKDF salt for workspace key derivation (32 bytes = 64 hex characters)
# Generate a DIFFERENT key than ENCRYPTION_KEY
ENCRYPTION_HKDF_SALT=your-64-character-hex-salt-here

# BYOK Rate Limiting (optional, defaults shown)
# BYOK_DECRYPT_RATE_LIMIT=100
# BYOK_DECRYPT_RATE_WINDOW_MS=3600000

# API Key Validation (optional, default shown)
# API_VALIDATION_TIMEOUT=5000

# Neo4j (Graphiti Knowledge Graph)
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=devos_neo4j_password

# Graphiti Memory Configuration
GRAPHITI_STORAGE_BACKEND=neo4j
GRAPHITI_MAX_EPISODES_PER_PROJECT=5000
GRAPHITI_EMBEDDING_MODEL=text-embedding-3-small
GRAPHITI_EMBEDDING_PROVIDER=openai

# Memory Ingestion Pipeline (Story 12.2)
MEMORY_INGESTION_ENABLED=true
MEMORY_INGESTION_MAX_RETRIES=3
MEMORY_EXTRACTION_MODEL=stub
MEMORY_DEDUP_THRESHOLD=0.95

# Memory Query Service (Story 12.3)
MEMORY_QUERY_MAX_RESULTS=10
MEMORY_QUERY_CANDIDATE_MULTIPLIER=3
MEMORY_QUERY_DEFAULT_TOKEN_BUDGET=4000
MEMORY_QUERY_TIME_DECAY_HALF_LIFE_DAYS=30
